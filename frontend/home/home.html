<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RecipeLens</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

    <section class="top-container">
        <div class="top-bar">
            <nav class="navbar">
                <a href="aboutus.html">About us</a>
                <a href="workflow.html">Workflow</a>
                <a href="Login.html" id="auth-link" style="color: #79d7ed; font-weight: bold;">Login</a>
            </nav>
        </div>
        <img src="images/logo.png" alt="Recipe Lens Logo" class="logo">
    </section>

    <section class="bottom-container">
        <div class="slogan">
            <span class="see-it">See it.</span>
            <span class="name-it">Name it.</span>
            <span class="cook-it">Cook it.</span>
        </div>

        <div class="button-wrapper">
            <div class="btn-group">
                <a href="#" class="main-btn" onclick="startVisionChef()">
                    <span class="btn-icon circle-icon"></span> Vision Chef
                </a>
                <span class="btn-label">What Can I Cook?</span>
            </div>

            <div class="btn-group">
                <a href="#" class="main-btn" onclick="startVoiceChef()">
                    <span class="btn-icon micro-icon">ðŸŽ¤</span> Voice Chef
                </a>
                <span class="btn-label">Listen to Ingredients</span>
            </div>
        </div>
    </section>

    <script>
    // 1. Helper function to check login status
    function checkAuth() {
        return localStorage.getItem("isLoggedIn") === "true";
    }

    // 2. Logic for Voice Chef Button
    function startVoiceChef() {
        if (checkAuth()) {
            window.location.href = "voice_chef.html"; 
        } else {
            alert("Please sign in to use the Voice Chef! ðŸ‘¨â€ðŸ³");
            window.location.href = "Login.html"; 
        }
    }

    // 3. Logic for Vision Chef Button
    function startVisionChef() {
        if (checkAuth()) {
            // Replace with your vision page URL when ready
            alert("Vision Chef coming next ðŸš€");
        } else {
            alert("Please sign in to use the Vision Chef! ðŸ“¸");
            window.location.href = "/home/Login.html"; 
        }
    }

    // 4. Update the Navbar dynamically on load
    document.addEventListener("DOMContentLoaded", () => {
        const authLink = document.getElementById("auth-link");
        
        if (checkAuth()) {
            // Change Login to Logout if session exists
            authLink.innerText = "Logout";
            authLink.href = "#";
            authLink.onclick = (e) => {
                e.preventDefault();
                localStorage.removeItem("isLoggedIn");
                localStorage.removeItem("userEmail");
                alert("Logged out successfully.");
                location.reload(); // Refresh to update UI
            };
        }
    });
    </script>
</body>
</html> 